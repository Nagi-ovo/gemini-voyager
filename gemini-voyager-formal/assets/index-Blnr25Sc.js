import o from"./katex-qrhCpa0F.js";const l=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n\$]))\1(?=[\s?!\.,:？！。，：]|$)/,s=/^(\${1,2})\n((?:\\[^]|[^\\])+?)\n\1(?:\n|$)/;function f(n={}){return{extensions:[c(n,a(n,!1)),u(n,a(n,!0))]}}function a(n,r){return i=>o.renderToString(i.text,{...n,displayMode:i.displayMode})+(r?`
`:"")}function c(n,r){return{name:"inlineKatex",level:"inline",start(i){let t,e=i;for(;e;){if(t=e.indexOf("$"),t===-1)return;if((t===0||e.charAt(t-1)===" ")&&e.substring(t).match(l))return t;e=e.substring(t+1).replace(/^\$+/,"")}},tokenizer(i,t){const e=i.match(l);if(e)return{type:"inlineKatex",raw:e[0],text:e[2].trim(),displayMode:e[1].length===2}},renderer:r}}function u(n,r){return{name:"blockKatex",level:"block",tokenizer(i,t){const e=i.match(s);if(e)return{type:"blockKatex",raw:e[0],text:e[2].trim(),displayMode:e[1].length===2}},renderer:r}}export{f as default};
