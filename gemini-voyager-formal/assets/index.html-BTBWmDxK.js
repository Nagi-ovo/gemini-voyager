import{r as n,j as t,u as je,c as Qt,L as Xt}from"./LanguageContext-BaSqHOzy.js";import{b as Z}from"./common-DScLtf9v.js";import{i as rt,k as me,S as ft}from"./StarredMessagesService-Dd_FMgPB.js";import{c as Yt}from"./version-BI7FQyLD.js";import{a as Jt,A as Zt}from"./i18n-CcLr9W9q.js";import{D as er}from"./sync-D9HwFXOO.js";const nt=e=>typeof e=="object"&&e!==null;function tr(e){if(!nt(e))return null;const r=e.update_url;return typeof r=="string"&&r.trim()?r:null}function rr(e){if(!nt(e))return null;const r=e.tag_name;if(typeof r=="string"&&r.trim())return r;const o=e.name;return typeof o=="string"&&o.trim()?o:null}function or(e,r,o){if(!nt(e))return null;const a=e.version,l=e.fetchedAt;return typeof a!="string"||!a.trim()||typeof l!="number"||!Number.isFinite(l)||r-l>=o?null:a}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ar=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,a)=>a?a.toUpperCase():o.toLowerCase()),ht=e=>{const r=ar(e);return r.charAt(0).toUpperCase()+r.slice(1)},St=(...e)=>e.filter((r,o,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===o).join(" ").trim(),nr=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ir={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=n.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:c,...w},f)=>n.createElement("svg",{ref:f,...ir,width:r,height:r,stroke:e,strokeWidth:a?Number(o)*24/Number(r):o,className:St("lucide",l),...!i&&!nr(w)&&{"aria-hidden":"true"},...w},[...c.map(([h,b])=>n.createElement(h,b)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,r)=>{const o=n.forwardRef(({className:a,...l},i)=>n.createElement(lr,{ref:i,iconNode:r,className:St(`lucide-${sr(ht(e))}`,`lucide-${e}`,a),...l}));return o.displayName=ht(e),o};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dr=it("globe",cr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ur=it("moon",mr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hr=it("sun",fr);function pr(){const[e,r]=n.useState(()=>{const a=localStorage.getItem("darkMode");return a!==null?a==="true":window.matchMedia("(prefers-color-scheme: dark)").matches});return n.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",String(e))},[e]),n.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=i=>{localStorage.getItem("darkMode")===null&&r(i.matches)};return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[]),{isDark:e,toggleDarkMode:()=>r(!e)}}function Mt(e){var r,o,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(o=Mt(e[r]))&&(a&&(a+=" "),a+=o)}else for(o in e)e[o]&&(a&&(a+=" "),a+=o);return a}function Et(){for(var e,r,o=0,a="",l=arguments.length;o<l;o++)(e=arguments[o])&&(r=Mt(e))&&(a&&(a+=" "),a+=r);return a}const pt=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gt=Et,gr=(e,r)=>o=>{var a;if(r?.variants==null)return gt(e,o?.class,o?.className);const{variants:l,defaultVariants:i}=r,c=Object.keys(l).map(h=>{const b=o?.[h],y=i?.[h];if(b===null)return null;const C=pt(b)||pt(y);return l[h][C]}),w=o&&Object.entries(o).reduce((h,b)=>{let[y,C]=b;return C===void 0||(h[y]=C),h},{}),f=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((h,b)=>{let{class:y,className:C,...P}=b;return Object.entries(P).every(k=>{let[M,m]=k;return Array.isArray(m)?m.includes({...i,...w}[M]):{...i,...w}[M]===m})?[...h,y,C]:h},[]);return gt(e,c,f,o?.class,o?.className)},lt="-",xr=e=>{const r=yr(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{const w=c.split(lt);return w[0]===""&&w.length!==1&&w.shift(),At(w,r)||br(c)},getConflictingClassGroupIds:(c,w)=>{const f=o[c]||[];return w&&a[c]?[...f,...a[c]]:f}}},At=(e,r)=>{if(e.length===0)return r.classGroupId;const o=e[0],a=r.nextPart.get(o),l=a?At(e.slice(1),a):void 0;if(l)return l;if(r.validators.length===0)return;const i=e.join(lt);return r.validators.find(({validator:c})=>c(i))?.classGroupId},xt=/^\[(.+)\]$/,br=e=>{if(xt.test(e)){const r=xt.exec(e)[1],o=r?.substring(0,r.indexOf(":"));if(o)return"arbitrary.."+o}},yr=e=>{const{theme:r,classGroups:o}=e,a={nextPart:new Map,validators:[]};for(const l in o)ot(o[l],a,l,r);return a},ot=(e,r,o,a)=>{e.forEach(l=>{if(typeof l=="string"){const i=l===""?r:bt(r,l);i.classGroupId=o;return}if(typeof l=="function"){if(vr(l)){ot(l(a),r,o,a);return}r.validators.push({validator:l,classGroupId:o});return}Object.entries(l).forEach(([i,c])=>{ot(c,bt(r,i),o,a)})})},bt=(e,r)=>{let o=e;return r.split(lt).forEach(a=>{o.nextPart.has(a)||o.nextPart.set(a,{nextPart:new Map,validators:[]}),o=o.nextPart.get(a)}),o},vr=e=>e.isThemeGetter,wr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,o=new Map,a=new Map;const l=(i,c)=>{o.set(i,c),r++,r>e&&(r=0,a=o,o=new Map)};return{get(i){let c=o.get(i);if(c!==void 0)return c;if((c=a.get(i))!==void 0)return l(i,c),c},set(i,c){o.has(i)?o.set(i,c):l(i,c)}}},st="!",at=":",kr=at.length,jr=e=>{const{prefix:r,experimentalParseClassName:o}=e;let a=l=>{const i=[];let c=0,w=0,f=0,h;for(let k=0;k<l.length;k++){let M=l[k];if(c===0&&w===0){if(M===at){i.push(l.slice(f,k)),f=k+kr;continue}if(M==="/"){h=k;continue}}M==="["?c++:M==="]"?c--:M==="("?w++:M===")"&&w--}const b=i.length===0?l:l.substring(f),y=Cr(b),C=y!==b,P=h&&h>f?h-f:void 0;return{modifiers:i,hasImportantModifier:C,baseClassName:y,maybePostfixModifierPosition:P}};if(r){const l=r+at,i=a;a=c=>c.startsWith(l)?i(c.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(o){const l=a;a=i=>o({className:i,parseClassName:l})}return a},Cr=e=>e.endsWith(st)?e.substring(0,e.length-1):e.startsWith(st)?e.substring(1):e,Nr=e=>{const r=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let i=[];return a.forEach(c=>{c[0]==="["||r[c]?(l.push(...i.sort(),c),i=[]):i.push(c)}),l.push(...i.sort()),l}},Sr=e=>({cache:wr(e.cacheSize),parseClassName:jr(e),sortModifiers:Nr(e),...xr(e)}),Mr=/\s+/,Er=(e,r)=>{const{parseClassName:o,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:i}=r,c=[],w=e.trim().split(Mr);let f="";for(let h=w.length-1;h>=0;h-=1){const b=w[h],{isExternal:y,modifiers:C,hasImportantModifier:P,baseClassName:k,maybePostfixModifierPosition:M}=o(b);if(y){f=b+(f.length>0?" "+f:f);continue}let m=!!M,E=a(m?k.substring(0,M):k);if(!E){if(!m){f=b+(f.length>0?" "+f:f);continue}if(E=a(k),!E){f=b+(f.length>0?" "+f:f);continue}m=!1}const L=i(C).join(":"),p=P?L+st:L,j=p+E;if(c.includes(j))continue;c.push(j);const A=l(E,m);for(let N=0;N<A.length;++N){const z=A[N];c.push(p+z)}f=b+(f.length>0?" "+f:f)}return f};function Ar(){let e=0,r,o,a="";for(;e<arguments.length;)(r=arguments[e++])&&(o=zt(r))&&(a&&(a+=" "),a+=o);return a}const zt=e=>{if(typeof e=="string")return e;let r,o="";for(let a=0;a<e.length;a++)e[a]&&(r=zt(e[a]))&&(o&&(o+=" "),o+=r);return o};function zr(e,...r){let o,a,l,i=c;function c(f){const h=r.reduce((b,y)=>y(b),e());return o=Sr(h),a=o.cache.get,l=o.cache.set,i=w,w(f)}function w(f){const h=a(f);if(h)return h;const b=Er(f,o);return l(f,b),b}return function(){return i(Ar.apply(null,arguments))}}const V=e=>{const r=o=>o[e]||[];return r.isThemeGetter=!0,r},Pt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pr=/^\d+\/\d+$/,Lr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ir=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,we=e=>Pr.test(e),S=e=>!!e&&!Number.isNaN(Number(e)),ue=e=>!!e&&Number.isInteger(Number(e)),Ye=e=>e.endsWith("%")&&S(e.slice(0,-1)),le=e=>Lr.test(e),Wr=()=>!0,Dr=e=>Tr.test(e)&&!Ir.test(e),Tt=()=>!1,Vr=e=>Rr.test(e),$r=e=>Fr.test(e),Gr=e=>!g(e)&&!x(e),Hr=e=>Ce(e,Ft,Tt),g=e=>Pt.test(e),be=e=>Ce(e,Wt,Dr),Je=e=>Ce(e,qr,S),yt=e=>Ce(e,It,Tt),_r=e=>Ce(e,Rt,$r),De=e=>Ce(e,Dt,Vr),x=e=>Lt.test(e),Pe=e=>Ne(e,Wt),Ur=e=>Ne(e,Kr),vt=e=>Ne(e,It),Or=e=>Ne(e,Ft),Br=e=>Ne(e,Rt),Ve=e=>Ne(e,Dt,!0),Ce=(e,r,o)=>{const a=Pt.exec(e);return a?a[1]?r(a[1]):o(a[2]):!1},Ne=(e,r,o=!1)=>{const a=Lt.exec(e);return a?a[1]?r(a[1]):o:!1},It=e=>e==="position"||e==="percentage",Rt=e=>e==="image"||e==="url",Ft=e=>e==="length"||e==="size"||e==="bg-size",Wt=e=>e==="length",qr=e=>e==="number",Kr=e=>e==="family-name",Dt=e=>e==="shadow",Qr=()=>{const e=V("color"),r=V("font"),o=V("text"),a=V("font-weight"),l=V("tracking"),i=V("leading"),c=V("breakpoint"),w=V("container"),f=V("spacing"),h=V("radius"),b=V("shadow"),y=V("inset-shadow"),C=V("text-shadow"),P=V("drop-shadow"),k=V("blur"),M=V("perspective"),m=V("aspect"),E=V("ease"),L=V("animate"),p=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...j(),x,g],N=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],v=()=>[x,g,f],I=()=>[we,"full","auto",...v()],R=()=>[ue,"none","subgrid",x,g],fe=()=>["auto",{span:["full",ue,x,g]},ue,x,g],ae=()=>[ue,"auto",x,g],ne=()=>["auto","min","max","fr",x,g],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...v()],q=()=>[we,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],d=()=>[e,x,g],U=()=>[...j(),vt,yt,{position:[x,g]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],pe=()=>["auto","cover","contain",Or,Hr,{size:[x,g]}],Me=()=>[Ye,Pe,be],$=()=>["","none","full",h,x,g],O=()=>["",S,Pe,be],ge=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[S,Ye,vt,yt],xe=()=>["","none",k,x,g],ve=()=>["none",S,x,g],ce=()=>["none",S,x,g],G=()=>[S,x,g],W=()=>[we,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[le],breakpoint:[le],color:[Wr],container:[le],"drop-shadow":[le],ease:["in","out","in-out"],font:[Gr],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[le],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[le],shadow:[le],spacing:["px",S],text:[le],"text-shadow":[le],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",we,g,x,m]}],container:["container"],columns:[{columns:[S,g,x,w]}],"break-after":[{"break-after":p()}],"break-before":[{"break-before":p()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ue,"auto",x,g]}],basis:[{basis:[we,"full","auto",w,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[S,we,"auto","initial","none",g]}],grow:[{grow:["",S,x,g]}],shrink:[{shrink:["",S,x,g]}],order:[{order:[ue,"first","last","none",x,g]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:fe()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:fe()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[w,"screen",...q()]}],"min-w":[{"min-w":[w,"screen","none",...q()]}],"max-w":[{"max-w":[w,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",o,Pe,be]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,x,Je]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ye,g]}],"font-family":[{font:[Ur,g,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,x,g]}],"line-clamp":[{"line-clamp":[S,"none",x,Je]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",x,g]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",x,g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:d()}],"text-color":[{text:d()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[S,"from-font","auto",x,be]}],"text-decoration-color":[{decoration:d()}],"underline-offset":[{"underline-offset":[S,"auto",x,g]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",x,g]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",x,g]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:pe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ue,x,g],radial:["",x,g],conic:[ue,x,g]},Br,_r]}],"bg-color":[{bg:d()}],"gradient-from-pos":[{from:Me()}],"gradient-via-pos":[{via:Me()}],"gradient-to-pos":[{to:Me()}],"gradient-from":[{from:d()}],"gradient-via":[{via:d()}],"gradient-to":[{to:d()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:d()}],"border-color-x":[{"border-x":d()}],"border-color-y":[{"border-y":d()}],"border-color-s":[{"border-s":d()}],"border-color-e":[{"border-e":d()}],"border-color-t":[{"border-t":d()}],"border-color-r":[{"border-r":d()}],"border-color-b":[{"border-b":d()}],"border-color-l":[{"border-l":d()}],"divide-color":[{divide:d()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[S,x,g]}],"outline-w":[{outline:["",S,Pe,be]}],"outline-color":[{outline:d()}],shadow:[{shadow:["","none",b,Ve,De]}],"shadow-color":[{shadow:d()}],"inset-shadow":[{"inset-shadow":["none",y,Ve,De]}],"inset-shadow-color":[{"inset-shadow":d()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:d()}],"ring-offset-w":[{"ring-offset":[S,be]}],"ring-offset-color":[{"ring-offset":d()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":d()}],"text-shadow":[{"text-shadow":["none",C,Ve,De]}],"text-shadow-color":[{"text-shadow":d()}],opacity:[{opacity:[S,x,g]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[S]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":d()}],"mask-image-linear-to-color":[{"mask-linear-to":d()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":d()}],"mask-image-t-to-color":[{"mask-t-to":d()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":d()}],"mask-image-r-to-color":[{"mask-r-to":d()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":d()}],"mask-image-b-to-color":[{"mask-b-to":d()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":d()}],"mask-image-l-to-color":[{"mask-l-to":d()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":d()}],"mask-image-x-to-color":[{"mask-x-to":d()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":d()}],"mask-image-y-to-color":[{"mask-y-to":d()}],"mask-image-radial":[{"mask-radial":[x,g]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":d()}],"mask-image-radial-to-color":[{"mask-radial-to":d()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[S]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":d()}],"mask-image-conic-to-color":[{"mask-conic-to":d()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:pe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",x,g]}],filter:[{filter:["","none",x,g]}],blur:[{blur:xe()}],brightness:[{brightness:[S,x,g]}],contrast:[{contrast:[S,x,g]}],"drop-shadow":[{"drop-shadow":["","none",P,Ve,De]}],"drop-shadow-color":[{"drop-shadow":d()}],grayscale:[{grayscale:["",S,x,g]}],"hue-rotate":[{"hue-rotate":[S,x,g]}],invert:[{invert:["",S,x,g]}],saturate:[{saturate:[S,x,g]}],sepia:[{sepia:["",S,x,g]}],"backdrop-filter":[{"backdrop-filter":["","none",x,g]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[S,x,g]}],"backdrop-contrast":[{"backdrop-contrast":[S,x,g]}],"backdrop-grayscale":[{"backdrop-grayscale":["",S,x,g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S,x,g]}],"backdrop-invert":[{"backdrop-invert":["",S,x,g]}],"backdrop-opacity":[{"backdrop-opacity":[S,x,g]}],"backdrop-saturate":[{"backdrop-saturate":[S,x,g]}],"backdrop-sepia":[{"backdrop-sepia":["",S,x,g]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",x,g]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[S,"initial",x,g]}],ease:[{ease:["linear","initial",E,x,g]}],delay:[{delay:[S,x,g]}],animate:[{animate:["none",L,x,g]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,x,g]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:G()}],"skew-x":[{"skew-x":G()}],"skew-y":[{"skew-y":G()}],transform:[{transform:[x,g,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:d()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:d()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",x,g]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",x,g]}],fill:[{fill:["none",...d()]}],"stroke-w":[{stroke:[S,Pe,be,Je]}],stroke:[{stroke:["none",...d()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Xr=zr(Qr);function se(...e){return Xr(Et(e))}const Yr=gr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90 before:absolute before:inset-1/2 before:h-0 before:w-0 before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-white/30 before:transition-all before:duration-500 active:before:h-full active:before:w-full active:before:duration-0",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 before:absolute before:inset-1/2 before:h-0 before:w-0 before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-white/30 before:transition-all before:duration-500 active:before:h-full active:before:w-full active:before:duration-0",outline:"border border-input bg-card hover:bg-accent hover:text-accent-foreground shadow-sm before:absolute before:inset-1/2 before:h-0 before:w-0 before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-primary/10 before:transition-all before:duration-500 active:before:h-full active:before:w-full active:before:duration-0",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 before:absolute before:inset-1/2 before:h-0 before:w-0 before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-primary/20 before:transition-all before:duration-500 active:before:h-full active:before:w-full active:before:duration-0",ghost:"hover:bg-accent hover:text-accent-foreground before:absolute before:inset-1/2 before:h-0 before:w-0 before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-primary/10 before:transition-all before:duration-500 active:before:h-full active:before:w-full active:before:duration-0",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=n.forwardRef(({className:e,variant:r,size:o,children:a,...l},i)=>t.jsx("button",{className:se(Yr({variant:r,size:o,className:e})),ref:i,...l,children:t.jsx("span",{className:"relative z-10",children:a})}));re.displayName="Button";const Jr=()=>{const{isDark:e,toggleDarkMode:r}=pr();return t.jsxs(re,{variant:"ghost",size:"icon",onClick:r,title:e?"Switch to light mode":"Switch to dark mode",className:"h-9 w-9",children:[e?t.jsx(hr,{className:"h-4 w-4"}):t.jsx(ur,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Toggle dark mode"})]})},Zr=()=>{const{language:e,setLanguage:r}=je(),o=Jt(e),a=()=>{r(o)};return t.jsxs(re,{variant:"ghost",size:"icon",onClick:a,title:`Switch to ${Zt[o]}`,className:"h-9 w-9",children:[t.jsx(dr,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Toggle language"})]})},_=n.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:se("bg-card text-card-foreground border-border/50 rounded-xl border shadow-md",e),...r}));_.displayName="Card";const eo=n.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:se("flex flex-col space-y-1.5 p-4",e),...r}));eo.displayName="CardHeader";const Q=n.forwardRef(({className:e,...r},o)=>t.jsx("h3",{ref:o,className:se("text-muted-foreground text-sm font-semibold tracking-wide",e),...r}));Q.displayName="CardTitle";const to=n.forwardRef(({className:e,...r},o)=>t.jsx("p",{ref:o,className:se("text-sm text-slate-500 dark:text-slate-400",e),...r}));to.displayName="CardDescription";const K=n.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:se("px-4 pt-0 pb-4",e),...r}));K.displayName="CardContent";const ro=n.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:se("flex items-center p-4 pt-0",e),...r}));ro.displayName="CardFooter";const T=n.forwardRef(({className:e,...r},o)=>t.jsx("label",{ref:o,className:se("text-foreground text-sm leading-none font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));T.displayName="Label";const B=n.forwardRef(({className:e,...r},o)=>t.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[t.jsx("input",{ref:o,type:"checkbox",className:"peer sr-only",...r}),t.jsx("div",{className:se("bg-input peer-focus:ring-ring peer h-6 w-11 rounded-full shadow-sm peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:outline-none","after:border-border after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:rounded-full after:border after:bg-white after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white","peer-checked:bg-primary",e)})]}));B.displayName="Switch";function $e({storageKey:e,defaultValue:r,onApply:o,normalize:a}){const l=a?a(r):r,[i,c]=n.useState(l),w=n.useRef(null),f=n.useRef(!1),h=n.useRef(!1);return n.useEffect(()=>{try{chrome.storage?.sync?.get({[e]:r},C=>{const P=C?.[e];if(typeof P=="number"){const k=a?a(P):P;Number.isFinite(k)&&(h.current||c(k))}f.current=!0})}catch{}},[e,r,a]),n.useEffect(()=>()=>{w.current!==null&&o(w.current)},[o]),{width:i,handleChange:C=>{h.current=!0,c(C),w.current=C},handleChangeComplete:()=>{w.current!==null&&(o(w.current),w.current=null),h.current=!1}}}function Vt(e,r){const o=new Map;return e.forEach(a=>{o.set(a.id,a)}),r.forEach(a=>{const l=o.get(a.id);if(!l)o.set(a.id,a);else{const i=a.updatedAt||a.createdAt||0,c=l.updatedAt||l.createdAt||0;i>c&&o.set(a.id,a)}}),Array.from(o.values())}function oo(e,r){const o=Vt(e.folders,r.folders),a={...e.folderContents};return new Set([...Object.keys(e.folderContents),...Object.keys(r.folderContents)]).forEach(i=>{const c=e.folderContents[i]||[],w=r.folderContents[i]||[],f=new Map;c.forEach(h=>f.set(h.conversationId,h)),w.forEach(h=>{const b=f.get(h.conversationId);b?f.set(h.conversationId,{...b,...h,starred:h.starred??b.starred}):f.set(h.conversationId,h)}),a[i]=Array.from(f.values())}),{folders:o,folderContents:a}}function so(e,r){return Vt(e,r)}function ao(e,r){const o=e?.messages||{},a=r?.messages||{},l=new Set([...Object.keys(o),...Object.keys(a)]),i={};return l.forEach(c=>{const w=o[c]||[],f=a[c]||[],h=new Map;f.forEach(y=>{h.set(y.turnId,y)}),w.forEach(y=>{const C=h.get(y.turnId);C?y.starredAt>=C.starredAt&&h.set(y.turnId,y):h.set(y.turnId,y)});const b=Array.from(h.values());b.length>0&&(i[c]=b)}),{messages:i}}function no(){const{t:e}=je(),r=rt(),[o,a]=n.useState(er),[l,i]=n.useState(null),[c,w]=n.useState(!1),[f,h]=n.useState(!1),[b,y]=n.useState("gemini"),C=n.useCallback(async()=>{try{const[p]=await chrome.tabs.query({active:!0,currentWindow:!0});if(p?.url?.includes("aistudio.google.com")||p?.url?.includes("aistudio.google.cn"))return"aistudio"}catch(p){console.warn("[CloudSyncSettings] Failed to detect platform:",p)}return"gemini"},[]);n.useEffect(()=>{const p=async()=>{try{const A=await chrome.runtime.sendMessage({type:"gv.sync.getState"});A?.ok&&A.state&&a(A.state)}catch(A){console.error("[CloudSyncSettings] Failed to get sync state:",A)}},j=async()=>{const A=await C();y(A),console.log("[CloudSyncSettings] Detected platform:",A)};p(),j()},[C]);const P=n.useCallback(p=>{if(!p)return e("neverSynced");const j=new Date(p),N=new Date().getTime()-j.getTime(),z=Math.floor(N/6e4),v=Math.floor(N/36e5),I=Math.floor(N/864e5);let R;return z<1?R=e("justNow"):z<60?R=`${z} ${e("minutesAgo")}`:v<24?R=`${v} ${e("hoursAgo")}`:I===1?R=e("yesterday"):R=j.toLocaleDateString(),e("lastSynced").replace("{time}",R)},[e]),k=n.useCallback(p=>{if(!p)return e("neverUploaded")||"Never uploaded";const j=new Date(p),N=new Date().getTime()-j.getTime(),z=Math.floor(N/6e4),v=Math.floor(N/36e5),I=Math.floor(N/864e5);let R;return z<1?R=e("justNow"):z<60?R=`${z} ${e("minutesAgo")}`:v<24?R=`${v} ${e("hoursAgo")}`:I===1?R=e("yesterday"):R=j.toLocaleDateString(),(e("lastUploaded")||"Uploaded {time}").replace("{time}",R)},[e]),M=n.useCallback(async p=>{try{const j=await chrome.runtime.sendMessage({type:"gv.sync.setMode",payload:{mode:p}});j?.ok&&j.state&&a(j.state)}catch(j){console.error("[CloudSyncSettings] Failed to set sync mode:",j)}},[]);n.useCallback(async()=>{i(null);try{const p=await chrome.runtime.sendMessage({type:"gv.sync.authenticate"});p?.ok&&p.state?a(p.state):i({text:p?.error||"Authentication failed",kind:"err"})}catch(p){console.error("[CloudSyncSettings] Authentication failed:",p),i({text:"Authentication failed",kind:"err"})}},[]);const m=n.useCallback(async()=>{try{const p=await chrome.runtime.sendMessage({type:"gv.sync.signOut"});p?.ok&&p.state&&a(p.state)}catch(p){console.error("[CloudSyncSettings] Sign out failed:",p)}},[]),E=n.useCallback(async()=>{i(null),w(!0);try{if(!o.isAuthenticated){const N=await chrome.runtime.sendMessage({type:"gv.sync.authenticate"});if(!N?.ok)throw new Error(N?.error||"Authentication failed");a(N.state)}let p={folders:[],folderContents:{}},j=[];try{const[N]=await chrome.tabs.query({active:!0,currentWindow:!0});if(N?.id){const z=await Promise.race([chrome.tabs.sendMessage(N.id,{type:"gv.sync.requestData"}),new Promise((v,I)=>setTimeout(()=>I("Timeout"),500))]);z?.ok&&z.data&&(p=z.data,console.log("[CloudSyncSettings] Got fresh folder data from content script"))}}catch(N){console.log("[CloudSyncSettings] Tab fetch failed/skipped:",N)}try{const N=b==="aistudio"?"gvFolderDataAIStudio":"gvFolderData",z=await chrome.storage.local.get([N,"gvPromptItems"]);(!p.folders||p.folders.length===0)&&z[N]&&(p=z[N],console.log(`[CloudSyncSettings] Loaded folders from ${N} (fallback)`)),b==="gemini"&&z.gvPromptItems&&(j=z.gvPromptItems)}catch(N){console.error("[CloudSyncSettings] Error loading data:",N)}console.log(`[CloudSyncSettings] Uploading ${b} folders:`,p.folders?.length||0,b==="gemini"?`prompts: ${j.length}`:"(prompts skipped for AI Studio)");const A=await chrome.runtime.sendMessage({type:"gv.sync.upload",payload:{folders:p,prompts:j,platform:b}});if(A?.ok)a(A.state),i({text:e("syncSuccess"),kind:"ok"});else throw new Error(A?.error||e("syncUploadFailed"))}catch(p){const j=p instanceof Error?p.message:"Sync failed";console.error("[CloudSyncSettings] Sync failed:",p),i({text:e("syncError").replace("{error}",j),kind:"err"})}finally{w(!1)}},[o.isAuthenticated,e,b]),L=n.useCallback(async()=>{i(null),h(!0);try{if(!o.isAuthenticated){const d=await chrome.runtime.sendMessage({type:"gv.sync.authenticate"});if(!d?.ok)throw new Error(d?.error||e("syncAuthFailed"));a(d.state)}const p=await chrome.runtime.sendMessage({type:"gv.sync.download",payload:{platform:b}});if(!p?.ok)throw new Error(p?.error||e("syncDownloadFailed"));if(!p.data){i({text:e("syncNoData"),kind:"err"}),h(!1);return}let j={folders:[],folderContents:{}},A=[];try{const[d]=await chrome.tabs.query({active:!0,currentWindow:!0});if(console.log("[CloudSyncSettings] Active tab:",d?.id,d?.url),d?.id){const U=await Promise.race([chrome.tabs.sendMessage(d.id,{type:"gv.sync.requestData"}),new Promise((Se,pe)=>setTimeout(()=>pe("Timeout after 2s"),2e3))]);console.log("[CloudSyncSettings] Tab response:",U),U?.ok&&U.data&&(j=U.data,console.log("[CloudSyncSettings] Got fresh folder data from content script:","folders:",j.folders?.length,"folderContents keys:",Object.keys(j.folderContents||{}).length))}}catch(d){console.warn("[CloudSyncSettings] Tab fetch failed/skipped:",d)}try{const d=b==="aistudio"?"gvFolderDataAIStudio":"gvFolderData",U=await chrome.storage.local.get([d,"gvPromptItems"]);(!j.folders||j.folders.length===0)&&U[d]&&(j=U[d],console.log(`[CloudSyncSettings] Loaded folders from ${d} (fallback)`)),b==="gemini"&&U.gvPromptItems&&(A=U.gvPromptItems)}catch(d){console.error("[CloudSyncSettings] Error loading local data for merge:",d)}const{folders:N,prompts:z,starred:v}=p.data,I=N?.data||{folders:[],folderContents:{}},R=z?.items||[],fe=v?.data||{messages:{}};console.log("[CloudSyncSettings] === MERGE DEBUG ==="),console.log("[CloudSyncSettings] Local folders count:",j.folders?.length||0),console.log("[CloudSyncSettings] Local folderContents:",JSON.stringify(Object.keys(j.folderContents||{}))),console.log("[CloudSyncSettings] Cloud folders count:",I.folders?.length||0),console.log("[CloudSyncSettings] Cloud folderContents:",JSON.stringify(Object.keys(I.folderContents||{}))),console.log("[CloudSyncSettings] Cloud starred conversations:",Object.keys(fe.messages||{}).length);let ae={messages:{}};try{const d=await chrome.storage.local.get(["geminiTimelineStarredMessages"]);d.geminiTimelineStarredMessages&&(ae=d.geminiTimelineStarredMessages)}catch(d){console.warn("[CloudSyncSettings] Could not get local starred messages:",d)}const ne=oo(j,I),he=so(A,R),X=ao(ae,fe);console.log("[CloudSyncSettings] Merged folders count:",ne.folders?.length||0),console.log("[CloudSyncSettings] Merged folderContents:",JSON.stringify(Object.keys(ne.folderContents||{}))),console.log("[CloudSyncSettings] Merged starred conversations:",Object.keys(X.messages||{}).length),console.log("[CloudSyncSettings] === END MERGE DEBUG ===");const q={[b==="aistudio"?"gvFolderDataAIStudio":"gvFolderData"]:ne};b==="gemini"&&(q.gvPromptItems=he,q.geminiTimelineStarredMessages=X),await chrome.storage.local.set(q);try{const[d]=await chrome.tabs.query({active:!0,currentWindow:!0});d?.id&&(await chrome.tabs.sendMessage(d.id,{type:"gv.folders.reload"}),console.log("[CloudSyncSettings] Sent reload message to content script"))}catch(d){console.warn("[CloudSyncSettings] Could not notify content script:",d)}a(p.state),i({text:e("syncSuccess"),kind:"ok"})}catch(p){const j=p instanceof Error?p.message:"Download failed";console.error("[CloudSyncSettings] Download failed:",p),i({text:e("syncError").replace("{error}",j),kind:"err"})}finally{h(!1)}},[o.isAuthenticated,e,b]);return n.useEffect(()=>{if(l){const p=setTimeout(()=>i(null),3e3);return()=>clearTimeout(p)}},[l]),r?null:t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("cloudSync")}),t.jsxs(K,{className:"space-y-4 p-0",children:[t.jsx("p",{className:"text-muted-foreground text-xs",children:e("cloudSyncDescription")}),t.jsxs("div",{children:[t.jsx(T,{className:"mb-2 block text-sm font-medium",children:e("syncMode")}),t.jsxs("div",{className:"bg-secondary/50 relative grid grid-cols-2 gap-1 rounded-lg p-1",children:[t.jsx("div",{className:"bg-primary pointer-events-none absolute top-1 bottom-1 w-[calc(50%-4px)] rounded-md shadow-md transition-all duration-300 ease-out",style:{left:o.mode==="disabled"?"4px":"calc(50% + 2px)"}}),t.jsx("button",{className:`relative z-10 rounded-md px-2 py-2 text-xs font-semibold transition-all duration-200 ${o.mode==="disabled"?"text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>M("disabled"),children:e("syncModeDisabled")}),t.jsx("button",{className:`relative z-10 rounded-md px-2 py-2 text-xs font-semibold transition-all duration-200 ${o.mode==="manual"?"text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>M("manual"),children:e("syncModeManual")})]})]}),o.mode!=="disabled"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(re,{variant:"outline",size:"sm",className:"group hover:border-primary/50 flex-1",onClick:E,disabled:c||f,children:t.jsxs("span",{className:"flex items-center gap-1 text-xs transition-transform group-hover:scale-105",children:[c?t.jsxs("svg",{className:"h-3 w-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),e("syncUpload")]})}),t.jsx(re,{variant:"outline",size:"sm",className:"group hover:border-primary/50 flex-1",onClick:L,disabled:c||f,children:t.jsxs("span",{className:"flex items-center gap-1 text-xs transition-transform group-hover:scale-105",children:[f?t.jsxs("svg",{className:"h-3 w-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 4v6h6M23 20v-6h-6"}),t.jsx("path",{d:"M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"})]}),e("syncMerge")]})})]}),t.jsxs("div",{className:"text-muted-foreground space-y-0.5 text-center text-xs",children:[t.jsx("p",{className:"text-foreground/70 font-medium",children:b==="aistudio"?"ðŸ“Š AI Studio":"âœ¨ Gemini"}),t.jsxs("p",{children:["â†‘"," ",k(b==="aistudio"?o.lastUploadTimeAIStudio:o.lastUploadTime)]}),t.jsxs("p",{children:["â†“"," ",P(b==="aistudio"?o.lastSyncTimeAIStudio:o.lastSyncTime)]})]}),o.isAuthenticated&&t.jsx(re,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive w-full text-xs",onClick:m,children:e("signOut")})]}),l&&t.jsx("p",{className:`text-center text-xs ${l.kind==="ok"?"text-green-600":"text-destructive"}`,children:l.text}),o.error&&!l&&t.jsx("p",{className:"text-destructive text-center text-xs",children:e("syncError").replace("{error}",o.error)})]})]})}const Ze="contextSyncEnabled",et="contextSyncPort",wt=3030;function io(){const{t:e}=je(),[r,o]=n.useState(!1),[a,l]=n.useState(wt),[i,c]=n.useState(!1),[w,f]=n.useState(!1),[h,b]=n.useState(null),y=n.useRef(e);n.useEffect(()=>{y.current=e},[e]),n.useEffect(()=>{chrome.storage.sync.get([Ze,et],m=>{o(m[Ze]===!0),l(m[et]||wt)})},[]);const C=m=>{o(m),chrome.storage.sync.set({[Ze]:m}),m||(c(!1),b(null))},P=m=>{const E=m.target.value;if(E===""){l("");return}let L=parseInt(E,10);isNaN(L)||(L<1&&(L=1),L>65535&&(L=65535),l(L),chrome.storage.sync.set({[et]:L}))},k=n.useCallback(async()=>{if(!r||!a)return;const m=`http://127.0.0.1:${a}/sync`;let E;try{const L=new AbortController;E=setTimeout(()=>L.abort(),200),await fetch(m,{method:"GET",signal:L.signal}),c(!0)}catch{c(!1)}finally{E&&clearTimeout(E)}},[r,a]);n.useEffect(()=>{if(r){k();const m=setInterval(k,5e3);return()=>clearInterval(m)}},[k,r]);const M=async()=>{f(!0),b({text:e("capturing"),kind:"info"});try{const[m]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!m?.id)throw new Error("No active tab found");m.url&&!m.url.includes("gemini.google.com")&&!m.url.includes("chatgpt.com")&&m.url.includes("claude.ai");const E=await chrome.tabs.sendMessage(m.id,{action:"sync_to_ide"});if(E&&E.status==="success")b({text:e("syncedSuccess"),kind:"ok"}),setTimeout(()=>b(null),3e3);else throw new Error(E?.message||"Unknown error")}catch(m){console.error("Sync failed",m),b({text:m.message,kind:"err"})}finally{f(!1)}};return t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("contextSync")}),t.jsxs(K,{className:"space-y-4 p-0",children:[t.jsx("p",{className:"text-muted-foreground text-xs",children:e("contextSyncDescription")}),t.jsxs("div",{children:[t.jsx(T,{className:"mb-2 block text-sm font-medium",children:e("syncMode")}),t.jsxs("div",{className:"bg-secondary/50 relative grid grid-cols-2 gap-1 rounded-lg p-1",children:[t.jsx("div",{className:"bg-primary pointer-events-none absolute top-1 bottom-1 w-[calc(50%-4px)] rounded-md shadow-md transition-all duration-300 ease-out",style:{left:r?"calc(50% + 2px)":"4px"}}),t.jsx("button",{className:`relative z-10 rounded-md px-2 py-2 text-xs font-semibold transition-all duration-200 ${r?"text-muted-foreground hover:text-foreground":"text-primary-foreground"}`,onClick:()=>C(!1),children:e("syncModeDisabled")}),t.jsx("button",{className:`relative z-10 rounded-md px-2 py-2 text-xs font-semibold transition-all duration-200 ${r?"text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>C(!0),children:e("syncModeManual")})]})]}),r&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(T,{className:"mb-2 block text-sm font-medium",children:e("syncServerPort")}),t.jsx("input",{type:"number",value:a,onChange:P,min:"1",max:"65535",className:"border-input placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${i?"bg-green-500":"bg-red-500"}`}),t.jsx("span",{className:"text-xs font-medium",children:e(i?"ideOnline":"ideOffline")})]}),t.jsx(re,{variant:"outline",size:"sm",className:"group hover:border-primary/50",onClick:M,disabled:!i||w,children:t.jsxs("span",{className:"flex items-center gap-1 text-xs transition-transform group-hover:scale-105",children:[w?t.jsxs("svg",{className:"h-3 w-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),e("syncToIDE")]})})]}),h&&t.jsx("div",{className:`text-xs ${h.kind==="ok"?"text-green-500":h.kind==="err"?"text-red-500":"text-blue-500"}`,children:h.text})]})]})]})}function lo(){const{t:e}=je(),[r,o]=n.useState(!0),[a,l]=n.useState(null),[i,c]=n.useState({action:null,modifiers:[],key:null}),[w,f]=n.useState(!0),h=n.useRef(null),b=n.useRef(!0),y=n.useRef({action:null,modifiers:[],key:null});n.useEffect(()=>{h.current=a},[a]),n.useEffect(()=>{b.current=r},[r]),n.useEffect(()=>{y.current=i},[i]),n.useEffect(()=>{(async()=>{try{await me.init();const{config:E,enabled:L}=me.getConfig();l(E),o(L)}catch(E){console.error("[KeyboardShortcut] Failed to load config:",E)}finally{f(!1)}})()},[]);const C=n.useCallback(async m=>{o(m);try{await me.setEnabled(m)}catch(E){console.error("[KeyboardShortcut] Failed to toggle enabled:",E)}},[]),P=n.useCallback(m=>{c({action:m,modifiers:[],key:null})},[]);n.useCallback(()=>{c({action:null,modifiers:[],key:null})},[]);const k=n.useCallback(async m=>{const E=y.current,L=h.current,p=b.current;if(!E.action)return;if(m.preventDefault(),m.stopPropagation(),m.key==="Escape"){c({action:null,modifiers:[],key:null});return}if(["Alt","Control","Shift","Meta","AltGraph"].includes(m.key))return;let j;m.key==="Up"?j="ArrowUp":m.key==="Down"?j="ArrowDown":m.key==="Left"?j="ArrowLeft":m.key==="Right"?j="ArrowRight":j=m.key;const A=[];if(m.altKey&&A.push("Alt"),m.ctrlKey&&A.push("Ctrl"),m.shiftKey&&A.push("Shift"),m.metaKey&&A.push("Meta"),!L)return;const N={...L,[E.action]:{action:`timeline:${E.action}`,modifiers:A,key:j}};try{await me.saveConfig(N,p),l(N),c({action:null,modifiers:[],key:null})}catch(z){console.error("[KeyboardShortcut] Failed to save shortcut:",z)}},[]);n.useEffect(()=>{if(i.action)return window.addEventListener("keydown",k,{capture:!0}),()=>{window.removeEventListener("keydown",k,{capture:!0})}},[i.action,k]);const M=n.useCallback(async()=>{try{await me.resetToDefaults();const{config:m}=me.getConfig();l(m)}catch(m){console.error("[KeyboardShortcut] Failed to reset shortcuts:",m)}},[]);return w||!a?t.jsxs(_,{className:"p-4",children:[t.jsx(Q,{className:"mb-4 text-xs tracking-wide uppercase",children:e("keyboardShortcuts")}),t.jsx(K,{className:"p-0",children:t.jsx("p",{className:"text-muted-foreground text-xs",children:e("loading")})})]}):t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs tracking-wide uppercase",children:e("keyboardShortcuts")}),t.jsxs(K,{className:"space-y-6 p-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(T,{htmlFor:"shortcuts-enabled",className:"cursor-pointer text-sm font-medium",children:e("enableShortcuts")}),t.jsx(B,{id:"shortcuts-enabled",checked:r,onChange:m=>C(m.target.checked)})]}),r&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{className:"text-muted-foreground text-xs font-medium",children:e("previousNode")}),t.jsx("button",{type:"button",onClick:()=>P("previous"),className:`flex w-full items-center justify-center rounded-lg border-2 px-4 py-3 font-mono text-sm font-semibold transition-all ${i.action==="previous"?"border-primary bg-primary/5 text-primary animate-pulse":"border-border hover:border-primary/50 hover:bg-accent"} `,children:i.action==="previous"?"Press key...":me.formatShortcut(a.previous)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{className:"text-muted-foreground text-xs font-medium",children:e("nextNode")}),t.jsx("button",{type:"button",onClick:()=>P("next"),className:`flex w-full items-center justify-center rounded-lg border-2 px-4 py-3 font-mono text-sm font-semibold transition-all ${i.action==="next"?"border-primary bg-primary/5 text-primary animate-pulse":"border-border hover:border-primary/50 hover:bg-accent"} `,children:i.action==="next"?"Press key...":me.formatShortcut(a.next)})]})]}),i.action&&t.jsx("p",{className:"text-muted-foreground animate-in fade-in text-center text-xs",children:"Press Esc to cancel"}),t.jsx("div",{className:"flex justify-center pt-2",children:t.jsx("button",{type:"button",onClick:M,className:"text-muted-foreground hover:text-foreground text-xs underline-offset-4 transition-colors hover:underline",children:e("resetShortcuts")})})]})]})]})}function co({onClose:e}){const{t:r}=je(),[o,a]=n.useState([]),[l,i]=n.useState(!0);n.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const y=await ft.getAllStarredMessagesSorted();a(y)}catch(y){console.error("Failed to load starred messages:",y)}finally{i(!1)}},w=async y=>{const[C]=await chrome.tabs.query({active:!0,currentWindow:!0}),P=`${y.conversationUrl}#gv-turn-${y.turnId}`;(C?.url?.includes("gemini.google.com")||C?.url?.includes("aistudio.google.com"))&&C?.id?(await chrome.tabs.update(C.id,{url:P}),window.close()):await chrome.tabs.create({url:P})},f=async(y,C)=>{C.stopPropagation();try{await ft.removeStarredMessage(y.conversationId,y.turnId),await c()}catch(P){console.error("Failed to delete starred message:",P)}},h=y=>{const C=new Date(y),k=new Date().getTime()-C.getTime(),M=Math.floor(k/(1e3*60*60)),m=Math.floor(k/(1e3*60*60*24));return M<24?M===0?r("justNow"):`${M} ${r("hoursAgo")}`:m===1?r("yesterday"):m<7?`${m} ${r("daysAgo")}`:C.toLocaleDateString()},b=(y,C)=>y.length<=C?y:y.slice(0,C)+"...";return t.jsxs("div",{className:"bg-background text-foreground flex h-[600px] w-[360px] flex-col",children:[t.jsx("div",{className:"from-primary/10 via-accent/5 border-border/50 border-b bg-linear-to-br to-transparent px-5 py-4 backdrop-blur-sm",children:t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h1",{className:"from-primary to-primary/70 bg-linear-to-r bg-clip-text text-xl font-bold text-transparent",children:r("starredHistory")}),t.jsx(re,{onClick:e,variant:"ghost",size:"icon",className:"hover:bg-primary/10 h-8 w-8 rounded-full",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M15 5L5 15M5 5l10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx("div",{className:"text-muted-foreground",children:r("loading")})}):o.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2",children:[t.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-muted-foreground",children:t.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"currentColor",opacity:"0.3"})}),t.jsx("p",{className:"text-muted-foreground text-sm",children:r("noStarredMessages")})]}):t.jsx("div",{className:"space-y-2",children:o.map(y=>t.jsxs(_,{className:"group relative cursor-pointer p-3 transition-all hover:shadow-md",onClick:()=>w(y),children:[t.jsx("button",{onClick:C=>f(y,C),className:"hover:bg-destructive/10 absolute top-2 right-2 rounded-full p-1 opacity-0 transition-opacity group-hover:opacity-100",title:r("removeFromStarred"),children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-destructive",children:t.jsx("path",{d:"M4 4l8 8M12 4l-8 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),t.jsxs("div",{className:"pr-6",children:[t.jsxs("div",{className:"mb-1 flex items-start gap-2",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary mt-0.5 shrink-0",children:t.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"currentColor"})}),t.jsx("p",{className:"line-clamp-2 text-sm font-medium",children:b(y.content,100)})]}),t.jsxs("div",{className:"ml-6 space-y-1",children:[y.conversationTitle&&t.jsx("p",{className:"text-muted-foreground truncate text-xs",children:y.conversationTitle}),t.jsx("p",{className:"text-muted-foreground text-xs",children:h(y.starredAt)})]})]})]},`${y.conversationId}-${y.turnId}`))})})]})}const mo=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364l2.0201-1.1685a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"})}),uo=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M4.709 15.955l4.72-2.647.08-.23-.08-.128H9.2l-.79-.048-2.698-.073-2.339-.097-2.266-.122-.571-.121L0 11.784l.055-.352.48-.321.686.06 1.52.103 2.278.158 1.652.097 2.449.255h.389l.055-.157-.134-.098-.103-.097-2.358-1.596-2.552-1.688-1.336-.972-.724-.491-.364-.462-.158-1.008.656-.722.881.06.225.061.893.686 1.908 1.476 2.491 1.833.365.304.145-.103.019-.073-.164-.274-1.355-2.446-1.446-2.49-.644-1.032-.17-.619a2.97 2.97 0 01-.104-.729L6.283.134 6.696 0l.996.134.42.364.62 1.414 1.002 2.229 1.555 3.03.456.898.243.832.091.255h.158V9.01l.128-1.706.237-2.095.23-2.695.08-.76.376-.91.747-.492.584.28.48.685-.067.444-.286 1.851-.559 2.903-.364 1.942h.212l.243-.242.985-1.306 1.652-2.064.73-.82.85-.904.547-.431h1.033l.76 1.129-.34 1.166-1.064 1.347-.881 1.142-1.264 1.7-.79 1.36.073.11.188-.02 2.856-.606 1.543-.28 1.841-.315.833.388.091.395-.328.807-1.969.486-2.309.462-3.439.813-.042.03.049.061 1.549.146.662.036h1.622l3.02.225.79.522.474.638-.079.485-1.215.62-1.64-.389-3.829-.91-1.312-.329h-.182v.11l1.093 1.068 2.006 1.81 2.509 2.33.127.578-.322.455-.34-.049-2.205-1.657-.851-.747-1.926-1.62h-.128v.17l.444.649 2.345 3.521.122 1.08-.17.353-.608.213-.668-.122-1.374-1.925-1.415-2.167-1.143-1.943-.14.08-.674 7.254-.316.37-.729.28-.607-.461-.322-.747.322-1.476.389-1.924.315-1.53.286-1.9.17-.632-.012-.042-.14.018-1.434 1.967-2.18 2.945-1.726 1.845-.414.164-.717-.37.067-.662.401-.589 2.388-3.036 1.44-1.882.93-1.086-.006-.158h-.055L4.132 18.56l-1.13.146-.487-.456.061-.746.231-.243 1.908-1.312-.006.006z"})}),fo=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M9.27 15.29l7.978-5.897c.391-.29.95-.177 1.137.272.98 2.369.542 5.215-1.41 7.169-1.951 1.954-4.667 2.382-7.149 1.406l-2.711 1.257c3.889 2.661 8.611 2.003 11.562-.953 2.341-2.344 3.066-5.539 2.388-8.42l.006.007c-.983-4.232.242-5.924 2.75-9.383.06-.082.12-.164.179-.248l-3.301 3.305v-.01L9.267 15.292M7.623 16.723c-2.792-2.67-2.31-6.801.071-9.184 1.761-1.763 4.647-2.483 7.166-1.425l2.705-1.25a7.808 7.808 0 00-1.829-1A8.975 8.975 0 005.984 5.83c-2.533 2.536-3.33 6.436-1.962 9.764 1.022 2.487-.653 4.246-2.34 6.022-.599.63-1.199 1.259-1.682 1.925l7.62-6.815"})}),ho=()=>t.jsx("svg",{viewBox:"0 0 28 28",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M23.748 4.482c-.254-.124-.364.113-.512.234-.051.039-.094.09-.137.136-.372.397-.806.657-1.373.626-.829-.046-1.537.214-2.163.848-.133-.782-.575-1.248-1.247-1.548-.352-.156-.708-.311-.955-.65-.172-.241-.219-.51-.305-.774-.055-.16-.11-.323-.293-.35-.2-.031-.278.136-.356.276-.313.572-.434 1.202-.422 1.84.027 1.436.633 2.58 1.838 3.393.137.093.172.187.129.323-.082.28-.18.552-.266.833-.055.179-.137.217-.329.14a5.526 5.526 0 0 1-1.736-1.18c-.857-.828-1.631-1.742-2.597-2.458a11.365 11.365 0 0 0-.689-.471c-.985-.957.13-1.743.388-1.836.27-.098.093-.432-.779-.428-.872.004-1.67.295-2.687.684a3.055 3.055 0 0 1-.465.137 9.597 9.597 0 0 0-2.883-.102c-1.885.21-3.39 1.102-4.497 2.623C.082 8.606-.231 10.684.152 12.85c.403 2.284 1.569 4.175 3.36 5.653 1.858 1.533 3.997 2.284 6.438 2.14 1.482-.085 3.133-.284 4.994-1.86.47.234.962.327 1.78.397.63.059 1.236-.03 1.705-.128.735-.156.684-.837.419-.961-2.155-1.004-1.682-.595-2.113-.926 1.096-1.296 2.746-2.642 3.392-7.003.05-.347.007-.565 0-.845-.004-.17.035-.237.23-.256a4.173 4.173 0 0 0 1.545-.475c1.396-.763 1.96-2.015 2.093-3.517.02-.23-.004-.467-.247-.588zM11.581 18c-2.089-1.642-3.102-2.183-3.52-2.16-.392.024-.321.471-.235.763.09.288.207.486.371.739.114.167.192.416-.113.603-.673.416-1.842-.14-1.897-.167-1.361-.802-2.5-1.86-3.301-3.307-.774-1.393-1.224-2.887-1.298-4.482-.02-.386.093-.522.477-.592a4.696 4.696 0 0 1 1.529-.039c2.132.312 3.946 1.265 5.468 2.774.868.86 1.525 1.887 2.202 2.891.72 1.066 1.494 2.082 2.48 2.914.348.292.625.514.891.677-.802.09-2.14.11-3.054-.614zm1-6.44a.306.306 0 0 1 .415-.287.302.302 0 0 1 .2.288.306.306 0 0 1-.31.307.303.303 0 0 1-.304-.308zm3.11 1.596c-.2.081-.399.151-.59.16a1.245 1.245 0 0 1-.798-.254c-.274-.23-.47-.358-.552-.758a1.73 1.73 0 0 1 .016-.588c.07-.327-.008-.537-.239-.727-.187-.156-.426-.199-.688-.199a.559.559 0 0 1-.254-.078c-.11-.054-.2-.19-.114-.358.028-.054.16-.186.192-.21.356-.202.767-.136 1.146.016.352.144.618.408 1.001.782.391.451.462.576.685.914.176.265.336.537.445.848.067.195-.019.354-.25.452z"})}),po=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M12.604 1.34c.393.69.784 1.382 1.174 2.075a.18.18 0 00.157.091h5.552c.174 0 .322.11.446.327l1.454 2.57c.19.337.24.478.024.837-.26.43-.513.864-.76 1.3l-.367.658c-.106.196-.223.28-.04.512l2.652 4.637c.172.301.111.494-.043.77-.437.785-.882 1.564-1.335 2.34-.159.272-.352.375-.68.37-.777-.016-1.552-.01-2.327.016a.099.099 0 00-.081.05 575.097 575.097 0 01-2.705 4.74c-.169.293-.38.363-.725.364-.997.003-2.002.004-3.017.002a.537.537 0 01-.465-.271l-1.335-2.323a.09.09 0 00-.083-.049H4.982c-.285.03-.553-.001-.805-.092l-1.603-2.77a.543.543 0 01-.002-.54l1.207-2.12a.198.198 0 000-.197 550.951 550.951 0 01-1.875-3.272l-.79-1.395c-.16-.31-.173-.496.095-.965.465-.813.927-1.625 1.387-2.436.132-.234.304-.334.584-.335a338.3 338.3 0 012.589-.001.124.124 0 00.107-.063l2.806-4.895a.488.488 0 01.422-.246c.524-.001 1.053 0 1.583-.006L11.704 1c.341-.003.724.032.9.34zm-3.432.403a.06.06 0 00-.052.03L6.254 6.788a.157.157 0 01-.135.078H3.253c-.056 0-.07.025-.041.074l5.81 10.156c.025.042.013.062-.034.063l-2.795.015a.218.218 0 00-.2.116l-1.32 2.31c-.044.078-.021.118.068.118l5.716.008c.046 0 .08.02.104.061l1.403 2.454c.046.081.092.082.139 0l5.006-8.76.783-1.382a.055.055 0 01.096 0l1.424 2.53a.122.122 0 00.107.062l2.763-.02a.04.04 0 00.035-.02.041.041 0 000-.04l-2.9-5.086a.108.108 0 010-.113l.293-.507 1.12-1.977c.024-.041.012-.062-.035-.062H9.2c-.059 0-.073-.026-.043-.077l1.434-2.505a.107.107 0 000-.114L9.225 1.774a.06.06 0 00-.053-.031zm6.29 8.02c.046 0 .058.02.034.06l-.832 1.465-2.613 4.585a.056.056 0 01-.05.029.058.058 0 01-.05-.029L8.498 9.841c-.02-.034-.01-.052.028-.054l.216-.012 6.722-.012z"})}),go=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M1.052 16.916l9.539 2.552a21.007 21.007 0 00.06 2.033l5.956 1.593a11.997 11.997 0 01-5.586.865l-.18-.016-.044-.004-.084-.009-.094-.01a11.605 11.605 0 01-.157-.02l-.107-.014-.11-.016a11.962 11.962 0 01-.32-.051l-.042-.008-.075-.013-.107-.02-.07-.015-.093-.019-.075-.016-.095-.02-.097-.023-.094-.022-.068-.017-.088-.022-.09-.024-.095-.025-.082-.023-.109-.03-.062-.02-.084-.025-.093-.028-.105-.034-.058-.019-.08-.026-.09-.031-.066-.024a6.293 6.293 0 01-.044-.015l-.068-.025-.101-.037-.057-.022-.08-.03-.087-.035-.088-.035-.079-.032-.095-.04-.063-.028-.063-.027a5.655 5.655 0 01-.041-.018l-.066-.03-.103-.047-.052-.024-.096-.046-.062-.03-.084-.04-.086-.044-.093-.047-.052-.027-.103-.055-.057-.03-.058-.032a6.49 6.49 0 01-.046-.026l-.094-.053-.06-.034-.051-.03-.072-.041-.082-.05-.093-.056-.052-.032-.084-.053-.061-.039-.079-.05-.07-.047-.053-.035a7.785 7.785 0 01-.054-.036l-.044-.03-.044-.03a6.066 6.066 0 01-.04-.028l-.057-.04-.076-.054-.069-.05-.074-.054-.056-.042-.076-.057-.076-.059-.086-.067-.045-.035-.064-.052-.074-.06-.089-.073-.046-.039-.046-.039a7.516 7.516 0 01-.043-.037l-.045-.04-.061-.053-.07-.062-.068-.06-.062-.058-.067-.062-.053-.05-.088-.084a13.28 13.28 0 01-.099-.097l-.029-.028-.041-.042-.069-.07-.05-.051-.05-.053a6.457 6.457 0 01-.168-.179l-.08-.088-.062-.07-.071-.08-.042-.049-.053-.062-.058-.068-.046-.056a7.175 7.175 0 01-.027-.033l-.045-.055-.066-.082-.041-.052-.05-.064-.02-.025a11.99 11.99 0 01-1.44-2.402zm-1.02-5.794l11.353 3.037a20.468 20.468 0 00-.469 2.011l10.817 2.894a12.076 12.076 0 01-1.845 2.005L.657 15.923l-.016-.046-.035-.104a11.965 11.965 0 01-.05-.153l-.007-.023a11.896 11.896 0 01-.207-.741l-.03-.126-.018-.08-.021-.097-.018-.081-.018-.09-.017-.084-.018-.094c-.026-.141-.05-.283-.071-.426l-.017-.118-.011-.083-.013-.102a12.01 12.01 0 01-.019-.161l-.005-.047a12.12 12.12 0 01-.034-2.145zm1.593-5.15l11.948 3.196c-.368.605-.705 1.231-1.01 1.875l11.295 3.022c-.142.82-.368 1.612-.668 2.365l-11.55-3.09L.124 10.26l.015-.1.008-.049.01-.067.015-.087.018-.098c.026-.148.056-.295.088-.442l.028-.124.02-.085.024-.097c.022-.09.045-.18.07-.268l.028-.102.023-.083.03-.1.025-.082.03-.096.026-.082.031-.095a11.896 11.896 0 011.01-2.232zm4.442-4.4L17.352 4.59a20.77 20.77 0 00-1.688 1.721l7.823 2.093c.267.852.442 1.744.513 2.665L2.106 5.213l.045-.065.027-.04.04-.055.046-.065.055-.076.054-.072.064-.086.05-.065.057-.073.055-.07.06-.074.055-.069.065-.077.054-.066.066-.077.053-.06.072-.082.053-.06.067-.074.054-.058.073-.078.058-.06.063-.067.168-.17.1-.098.059-.056.076-.071a12.084 12.084 0 012.272-1.677zM12.017 0h.097l.082.001.069.001.054.002.068.002.046.001.076.003.047.002.06.003.054.002.087.005.105.007.144.011.088.007.044.004.077.008.082.008.047.005.102.012.05.006.108.014.081.01.042.006.065.01.207.032.07.012.065.011.14.026.092.018.11.022.046.01.075.016.041.01L14.7.3l.042.01.065.015.049.012.071.017.096.024.112.03.113.03.113.032.05.015.07.02.078.024.073.023.05.016.05.016.076.025.099.033.102.036.048.017.064.023.093.034.11.041.116.045.1.04.047.02.06.024.041.018.063.026.04.018.057.025.11.048.1.046.074.035.075.036.06.028.092.046.091.045.102.052.053.028.049.026.046.024.06.033.041.022.052.029.088.05.106.06.087.051.057.034.053.032.096.059.088.055.098.062.036.024.064.041.084.056.04.027.062.042.062.043.023.017c.054.037.108.075.161.114l.083.06.065.048.056.043.086.065.082.064.04.03.05.041.086.069.079.065.085.071c.712.6 1.353 1.283 1.909 2.031L7.222.994l.062-.027.065-.028.081-.034.086-.035c.113-.045.227-.09.341-.131l.096-.035.093-.033.084-.03.096-.031c.087-.03.176-.058.264-.085l.091-.027.086-.025.102-.03.085-.023.1-.026L9.04.37l.09-.023.091-.022.095-.022.09-.02.098-.021.091-.02.095-.018.092-.018.1-.018.091-.016.098-.017.092-.014.097-.015.092-.013.102-.013.091-.012.105-.012.09-.01.105-.01c.093-.01.186-.018.28-.024l.106-.008.09-.005.11-.006.093-.004.1-.004.097-.002.099-.002.197-.002z"})}),xo=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M11.999 3.14C5.372 3.14 0 8.588 0 15.312v5.828h2.212v-.58c0-2.728 2.178-4.938 4.866-4.938 2.688 0 4.866 2.21 4.866 4.937v.581h2.212v-.58c0-3.967-3.17-7.18-7.078-7.18a6.966 6.966 0 00-4.086 1.318C4.2 12.262 6.687 10.59 9.56 10.59c4.057 0 7.347 3.338 7.347 7.453v3.097h2.212v-3.097c0-5.355-4.28-9.698-9.56-9.698a9.438 9.438 0 00-6.217 2.332C4.984 7.528 8.244 5.383 12 5.383c5.406 0 9.788 4.446 9.788 9.93v5.827H24v-5.828C23.999 8.588 18.627 3.14 11.999 3.14z"})}),bo=()=>t.jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"currentColor",children:t.jsx("path",{d:"M22.369 17.676c-1.387 1.259-3.17 2.378-5.332 3.417.044.03.086.057.13.083l.018.01.019.012c.216.123.42.184.641.184.222 0 .426-.061.642-.184l.018-.011.019-.011c.14-.084.266-.178.492-.366l.178-.148c.279-.232.426-.342.625-.456.304-.174.612-.266.949-.266.337 0 .645.092.949.266l.023.014c.188.109.334.219.602.442l.178.148c.221.184.346.278.483.36l.028.017.018.01c.21.12.407.181.62.185h.022a.31.31 0 110 .618c-.337 0-.645-.092-.95-.266a3.137 3.137 0 01-.09-.054l-.022-.014-.022-.013-.02-.014a5.356 5.356 0 01-.49-.377l-.159-.132a3.836 3.836 0 00-.483-.36l-.027-.017-.019-.01a1.256 1.256 0 00-.641-.185c-.222 0-.426.061-.641.184l-.02.011-.018.011c-.14.084-.266.178-.492.366l-.158.132a5.125 5.125 0 01-.51.39l-.022.014-.022.014-.09.054a1.868 1.868 0 01-.95.266c-.337 0-.644-.092-.949-.266a3.137 3.137 0 01-.09-.054l-.022-.014-.022-.013-.026-.017a4.881 4.881 0 01-.425-.325.308.308 0 01-.12-.1l-.098-.081a3.836 3.836 0 00-.483-.36l-.027-.017-.019-.01a1.256 1.256 0 00-.641-.185c-.222 0-.426.061-.642.184l-.018.011-.019.011c-.14.084-.266.178-.492.366l-.158.132a5.125 5.125 0 01-.51.39l-.023.014-.022.014-.09.054A1.868 1.868 0 0112 22c-.337 0-.645-.092-.949-.266a3.137 3.137 0 01-.09-.054l-.022-.014-.022-.013-.021-.014a5.356 5.356 0 01-.49-.377l-.158-.132a3.836 3.836 0 00-.483-.36l-.028-.017-.018-.01a1.256 1.256 0 00-.642-.185c-.221 0-.425.061-.641.184l-.019.011-.018.011c-.141.084-.266.178-.492.366l-.158.132a5.125 5.125 0 01-.511.39l-.022.014-.022.014-.09.054a1.868 1.868 0 01-.986.264c-.746-.09-1.319-.38-1.89-.866l-.035-.03c-.047-.041-.118-.106-.192-.174l-.196-.181-.107-.1-.011-.01a1.531 1.531 0 00-.336-.253.313.313 0 00-.095-.03h-.005c-.119.022-.238.059-.361.11a.308.308 0 01-.077.061l-.008.005a.309.309 0 01-.126.034 5.66 5.66 0 00-.774.518l-.416.324-.055.043a6.542 6.542 0 01-.324.236c-.305.207-.552.315-.8.315a.31.31 0 01-.01-.618h.01c.09 0 .235-.062.438-.198l.04-.027c.077-.054.163-.117.27-.199l.385-.301.06-.047c.268-.206.506-.373.73-.505l-.633-1.21a.309.309 0 01.254-.451l20.287-1.305a.309.309 0 01.228.537zm-1.118.14L2.369 19.03l.423.809c.128-.045.256-.078.388-.1a.31.31 0 01.052-.005c.132 0 .26.032.386.093.153.073.294.179.483.35l.016.015.092.086.144.134.097.089c.065.06.125.114.16.144.485.418.948.658 1.554.736h.011a1.25 1.25 0 00.6-.172l.021-.011.019-.011.018-.011c.141-.084.266-.178.492-.366l.178-.148c.279-.232.426-.342.625-.456.305-.174.612-.266.95-.266.336 0 .644.092.948.266l.023.014c.188.109.335.219.603.442l.177.148c.222.184.346.278.484.36l.027.017.019.01c.215.124.42.185.641.185.222 0 .426-.061.641-.184l.019-.011.018-.011c.141-.084.267-.178.493-.366l.177-.148c.28-.232.427-.342.626-.456.304-.174.612-.266.949-.266.337 0 .644.092.949.266l.025.015c.187.109.334.22.603.443 1.867-.878 3.448-1.811 4.73-2.832l.02-.016zM3.653 2.026C6.073 3.06 8.69 4.941 10.8 7.258c2.46 2.7 4.109 5.828 4.637 9.149a.31.31 0 01-.421.335c-2.348-.945-4.54-1.258-6.59-1.02-1.739.2-3.337.792-4.816 1.703-.294.182-.62-.182-.405-.454 1.856-2.355 2.581-4.99 2.343-7.794-.195-2.292-1.031-4.61-2.284-6.709a.31.31 0 01.388-.442zM10.04 4.45c1.778.543 3.892 2.102 5.782 4.243 1.984 2.248 3.552 4.934 4.347 7.582a.31.31 0 01-.401.38l-.022-.01-.386-.154a10.594 10.594 0 00-.291-.112l-.016-.006c-.68-.247-1.199-.291-1.944-.101a.31.31 0 01-.375-.218C15.378 11.123 13.073 7.276 9.775 5c-.291-.201-.072-.653.266-.55zM4.273 2.996l.008.015c1.028 1.94 1.708 4.031 1.885 6.113.213 2.513-.31 4.906-1.673 7.092l-.02.031.003-.001c1.198-.581 2.47-.969 3.825-1.132l.055-.006c1.981-.23 4.083.029 6.309.837l.066.025-.007-.039c-.593-2.95-2.108-5.737-4.31-8.179l-.07-.078c-1.785-1.96-3.944-3.6-6.014-4.65l-.057-.028zm7.92 3.238l.048.048c2.237 2.295 3.885 5.431 4.974 9.191l.038.132.022-.004c.71-.133 1.284-.063 1.963.18l.027.01.066.024.046.018-.025-.073c-.811-2.307-2.208-4.62-3.936-6.594l-.058-.065c-1.02-1.155-2.103-2.132-3.15-2.856l-.015-.011z"})}),$t=n.forwardRef(({className:e,onValueChange:r,onValueCommit:o,...a},l)=>{const i=w=>{const f=Number(w.target.value);r?.(f)},c=w=>{const f=Number(w.target.value);o?.(f)};return t.jsx("input",{ref:l,type:"range",className:se("bg-secondary h-2 w-full cursor-pointer appearance-none rounded-lg","[&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:shadow-md [&::-webkit-slider-thumb]:transition-transform hover:[&::-webkit-slider-thumb]:scale-110","[&::-moz-range-thumb]:bg-primary [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-md",e),onInput:i,onChange:i,onMouseUp:c,onTouchEnd:c,...a})});$t.displayName="Slider";function Ge({label:e,value:r,min:o,max:a,step:l,narrowLabel:i,wideLabel:c,valueFormatter:w,onChange:f,onChangeComplete:h}){const b=w??(y=>`${y}%`);return t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx(Q,{className:"text-xs uppercase",children:e}),t.jsx("span",{className:"text-primary bg-primary/10 rounded-md px-2.5 py-1 text-sm font-bold shadow-sm",children:b(r)})]}),t.jsx(K,{className:"p-0",children:t.jsxs("div",{className:"px-1",children:[t.jsx($t,{min:o,max:a,step:l,value:r,onValueChange:f,onValueCommit:h}),t.jsxs("div",{className:"text-muted-foreground mt-3 flex items-center justify-between text-xs font-medium",children:[t.jsx("span",{children:i}),t.jsx("span",{children:c})]})]})})]})}const ct=1200,_e=e=>e/100*ct,Ue=(e,r,o)=>Math.min(o,Math.max(r,Math.round(e))),kt=(e,r,o)=>Math.min(o,Math.max(r,Math.round(e))),He=(e,r,o,a,l)=>{if(!Number.isFinite(e))return r;if(e>a){const i=e/l*100;return kt(i,o,a)}return kt(e,o,a)},ye={min:0,max:16,defaultValue:2},ee={min:30,max:100,defaultValue:70,legacyBaselinePx:ct},te={min:30,max:100,defaultValue:60,legacyBaselinePx:ct},Oe={min:15,max:45,defaultValue:26},ke={min:Math.round(_e(Oe.min)),max:Math.round(_e(Oe.max)),defaultValue:Math.round(_e(Oe.defaultValue))},Le={min:240,max:600,defaultValue:280},jt=e=>Ue(e,ke.min,ke.max),yo=e=>{if(!Number.isFinite(e))return ke.defaultValue;if(e<=Oe.max){const r=_e(e);return jt(r)}return jt(e)},tt="gvLatestVersionCache",vo=1e3*60*60*6,Ct=e=>{if(!e)return null;const r=e.trim();return r?r.replace(/^v/i,""):null},Nt=e=>{if(!e)return null;const r=e.trim();return r?r.startsWith("v")?r:`v${r}`:null};function wo(){const{t:e,language:r}=je(),[o,a]=n.useState("flow"),[l,i]=n.useState(!1),[c,w]=n.useState(!1),[f,h]=n.useState(!1),[b,y]=n.useState(!0),[C,P]=n.useState(!1),[k,M]=n.useState([]),[m,E]=n.useState(""),[L,p]=n.useState(""),[j,A]=n.useState(!1),[N,z]=n.useState("latex"),[v,I]=n.useState(null),[R,fe]=n.useState(null),[ae,ne]=n.useState(!0),[he,X]=n.useState(!1),[Y,q]=n.useState(!1),[d,U]=n.useState(!0),[Se,pe]=n.useState(!0),[Me,$]=n.useState(!0),[O,ge]=n.useState(!1),[Te,F]=n.useState(!1),[xe,ve]=n.useState(!1);n.useEffect(()=>{Z.tabs.query({active:!0,currentWindow:!0}).then(s=>{const u=s[0]?.url||"";(u.includes("aistudio.google.com")||u.includes("aistudio.google.cn"))&&ve(!0)}).catch(()=>{})},[]);const ce=n.useCallback(s=>{const u=s.target.value;z(u);try{chrome.storage?.sync?.set({gvFormulaCopyFormat:u})}catch(D){console.error("[Gemini Voyager] Failed to save formula copy format:",D)}},[]),G=n.useCallback(async s=>{try{await Z.storage.sync.set(s);return}catch{}await new Promise(u=>{try{chrome.storage?.sync?.set(s,()=>u())}catch{u()}})},[]),W=n.useCallback(s=>{const u={};s.mode&&(u.geminiTimelineScrollMode=s.mode),typeof s.hideContainer=="boolean"&&(u.geminiTimelineHideContainer=s.hideContainer),typeof s.draggableTimeline=="boolean"&&(u.geminiTimelineDraggable=s.draggableTimeline),typeof s.markerLevelEnabled=="boolean"&&(u.geminiTimelineMarkerLevel=s.markerLevelEnabled),typeof s.folderEnabled=="boolean"&&(u.geminiFolderEnabled=s.folderEnabled),typeof s.hideArchivedConversations=="boolean"&&(u.geminiFolderHideArchivedConversations=s.hideArchivedConversations),s.resetPosition&&(u.geminiTimelinePosition=null),s.customWebsites&&(u.gvPromptCustomWebsites=s.customWebsites),typeof s.watermarkRemoverEnabled=="boolean"&&(u.geminiWatermarkRemoverEnabled=s.watermarkRemoverEnabled),typeof s.hidePromptManager=="boolean"&&(u.gvHidePromptManager=s.hidePromptManager),typeof s.inputCollapseEnabled=="boolean"&&(u.gvInputCollapseEnabled=s.inputCollapseEnabled),typeof s.tabTitleUpdateEnabled=="boolean"&&(u.gvTabTitleUpdateEnabled=s.tabTitleUpdateEnabled),typeof s.mermaidEnabled=="boolean"&&(u.gvMermaidEnabled=s.mermaidEnabled),typeof s.quoteReplyEnabled=="boolean"&&(u.gvQuoteReplyEnabled=s.quoteReplyEnabled),typeof s.ctrlEnterSendEnabled=="boolean"&&(u.gvCtrlEnterSend=s.ctrlEnterSendEnabled),typeof s.sidebarAutoHideEnabled=="boolean"&&(u.gvSidebarAutoHide=s.sidebarAutoHideEnabled),G(u)},[G]),Be=$e({storageKey:"geminiChatWidth",defaultValue:ee.defaultValue,normalize:s=>He(s,ee.defaultValue,ee.min,ee.max,ee.legacyBaselinePx),onApply:n.useCallback(s=>{const u=He(s,ee.defaultValue,ee.min,ee.max,ee.legacyBaselinePx);try{chrome.storage?.sync?.set({geminiChatWidth:u})}catch{}},[])}),qe=$e({storageKey:"geminiEditInputWidth",defaultValue:te.defaultValue,normalize:s=>He(s,te.defaultValue,te.min,te.max,te.legacyBaselinePx),onApply:n.useCallback(s=>{const u=He(s,te.defaultValue,te.min,te.max,te.legacyBaselinePx);try{chrome.storage?.sync?.set({geminiEditInputWidth:u})}catch{}},[])}),de=xe?{key:"gvAIStudioSidebarWidth",min:Le.min,max:Le.max,def:Le.defaultValue,norm:s=>Ue(s,Le.min,Le.max)}:{key:"geminiSidebarWidth",min:ke.min,max:ke.max,def:ke.defaultValue,norm:yo},Ke=$e({storageKey:de.key,defaultValue:de.def,normalize:de.norm,onApply:n.useCallback(s=>{const u=de.norm(s);try{chrome.storage?.sync?.set({[de.key]:u})}catch{}},[de])}),Qe=xe?"gvAIStudioFolderSpacing":"gvFolderSpacing",Xe=$e({storageKey:Qe,defaultValue:ye.defaultValue,normalize:s=>Ue(s,ye.min,ye.max),onApply:n.useCallback(s=>{const u=Ue(s,ye.min,ye.max);try{chrome.storage?.sync?.set({[Qe]:u})}catch{}},[Qe])});n.useEffect(()=>{try{const s=chrome?.runtime?.getManifest?.()?.version;s&&I(s)}catch(s){console.error("[Gemini Voyager] Failed to get extension version:",s)}},[]),n.useEffect(()=>{let s=!1;return(async()=>{if(!v)return;const D=chrome?.runtime?.getManifest?.();if(!tr(D))try{const H=await Z.storage.local.get(tt),ie=Date.now();let oe=or(H?.[tt],ie,vo);if(!oe){const J=await fetch("https://api.github.com/repos/Nagi-ovo/gemini-voyager/releases/latest",{headers:{Accept:"application/vnd.github+json"}});if(!J.ok)throw new Error(`HTTP ${J.status}`);const Ae=await J.json(),ze=rr(Ae);ze&&(oe=ze,await Z.storage.local.set({[tt]:{version:ze,fetchedAt:ie}}))}if(s||!oe)return;fe(oe)}catch(H){s||console.warn("[Gemini Voyager] Failed to check latest version:",H)}})(),()=>{s=!0}},[v]),n.useEffect(()=>{try{chrome.storage?.sync?.get({geminiTimelineScrollMode:"flow",geminiTimelineHideContainer:!1,geminiTimelineDraggable:!1,geminiTimelineMarkerLevel:!1,geminiFolderEnabled:!0,geminiFolderHideArchivedConversations:!1,gvPromptCustomWebsites:[],gvFormulaCopyFormat:"latex",geminiWatermarkRemoverEnabled:!0,gvHidePromptManager:!1,gvInputCollapseEnabled:!1,gvTabTitleUpdateEnabled:!0,gvMermaidEnabled:!0,gvQuoteReplyEnabled:!0,gvCtrlEnterSend:!1,gvSidebarAutoHide:!1},s=>{const u=s?.geminiTimelineScrollMode;(u==="jump"||u==="flow")&&a(u);const D=s?.gvFormulaCopyFormat;(D==="latex"||D==="unicodemath"||D==="no-dollar")&&z(D),i(!!s?.geminiTimelineHideContainer),w(!!s?.geminiTimelineDraggable),h(!!s?.geminiTimelineMarkerLevel),y(s?.geminiFolderEnabled!==!1),P(!!s?.geminiFolderHideArchivedConversations);const H=Array.isArray(s?.gvPromptCustomWebsites)?s.gvPromptCustomWebsites.filter(ie=>typeof ie=="string"):[];M(H),ne(s?.geminiWatermarkRemoverEnabled!==!1),X(!!s?.gvHidePromptManager),q(s?.gvInputCollapseEnabled!==!1),U(s?.gvTabTitleUpdateEnabled!==!1),pe(s?.gvMermaidEnabled!==!1),$(s?.gvQuoteReplyEnabled!==!1),ge(s?.gvCtrlEnterSend===!0),F(s?.gvSidebarAutoHide===!0),(async()=>{if(!H.length||!Z.permissions?.contains)return;const ie=async J=>{try{const Ae=J.trim().toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\/.*$/,"").replace(/^\*\./,"");if(!Ae)return!1;const ze=[`https://*.${Ae}/*`,`http://*.${Ae}/*`];for(const Kt of ze)if(await Z.permissions.contains({origins:[Kt]}))return!0;return!1}catch{return!0}},oe=(await Promise.all(H.map(async J=>({domain:J,ok:await ie(J)})))).filter(J=>J.ok).map(J=>J.domain);oe.length!==H.length&&(M(oe),await G({gvPromptCustomWebsites:oe}))})()})}catch{}},[G]);const dt=n.useCallback(s=>{try{let u=s.trim().toLowerCase();return u=u.replace(/^https?:\/\//,""),u=u.replace(/\/$/,""),u=u.replace(/^www\./,""),/^[a-z0-9.-]+\.[a-z]{2,}$/i.test(u)?u:null}catch{return null}},[]),Ie=n.useCallback(s=>{try{const u=s.trim().toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\/.*$/,"").replace(/^\*\./,"");return u?[`https://*.${u}/*`,`http://*.${u}/*`]:null}catch{return null}},[]),Re=n.useCallback(async s=>{const u=Ie(s);if(!u)return p(e("invalidUrl")),!1;if(!Z.permissions?.request||!Z.permissions?.contains)return p(e("permissionRequestFailed")),!1;try{if(await Z.permissions.contains({origins:u}))return!0;const H=await Z.permissions.request({origins:u});return H||p(e("permissionDenied")),H}catch(D){return console.error("[Gemini Voyager] Failed to request permissions for custom website:",D),p(e("permissionRequestFailed")),!1}},[Ie,e]),Fe=n.useCallback(async s=>{const u=Ie(s);if(!(!u||!Z.permissions?.remove))try{await Z.permissions.remove({origins:u})}catch(D){console.warn("[Gemini Voyager] Failed to revoke permission for",s,D)}},[Ie]),mt=n.useCallback(async()=>{if(p(""),!m.trim())return;const s=dt(m);if(!s){p(e("invalidUrl"));return}if(k.includes(s)){p(e("invalidUrl"));return}const u=[...k,s];M(u),await G({gvPromptCustomWebsites:u}),E(""),await Re(s)||(M(k),await G({gvPromptCustomWebsites:k}))},[m,k,dt,e,Re,G]),Gt=n.useCallback(async s=>{const u=k.filter(D=>D!==s);M(u),await G({gvPromptCustomWebsites:u}),await Fe(s)},[k,Fe,G]),Ht=n.useCallback(async(s,u)=>{if(u){const ie=k.filter(oe=>oe!==s);M(ie),await G({gvPromptCustomWebsites:ie}),await Fe(s);return}const D=[...k,s];M(D),await G({gvPromptCustomWebsites:D}),await Re(s)||(M(k),await G({gvPromptCustomWebsites:k}))},[k,Re,Fe,G]),We=Ct(v),Ee=Ct(R),_t=We&&Ee?Yt(Ee,We)>0:!1,ut=Nt(R??Ee??void 0),Ut=ut?`https://github.com/Nagi-ovo/gemini-voyager/releases/tag/${ut}`:"https://github.com/Nagi-ovo/gemini-voyager/releases/latest",Ot=Nt(v),Bt=v?`https://github.com/Nagi-ovo/gemini-voyager/releases/tag/${Ot??`v${v}`}`:"https://github.com/Nagi-ovo/gemini-voyager/releases",qt=r==="zh"?"https://voyager.nagi.fun":`https://voyager.nagi.fun/${r}`;return j?t.jsx(co,{onClose:()=>A(!1)}):t.jsxs("div",{className:"bg-background text-foreground w-[360px]",children:[t.jsxs("div",{className:"from-primary/10 via-accent/5 border-border/50 flex items-center justify-between border-b bg-linear-to-br to-transparent px-5 py-4 backdrop-blur-sm",children:[t.jsx("h1",{className:"from-primary to-primary/70 bg-linear-to-r bg-clip-text text-xl font-bold text-transparent",children:e("extName")}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Jr,{}),t.jsx(Zr,{})]})]}),t.jsxs("div",{className:"space-y-4 p-5",children:[_t&&Ee&&We&&t.jsx(_,{className:"border-amber-200 bg-amber-50 p-3 text-amber-900 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-1 text-amber-600",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{d:"M12 2l4 4h-3v7h-2V6H8l4-4zm6 11v6H6v-6H4v8h16v-8h-2z"})})}),t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsx("p",{className:"text-sm leading-tight font-semibold",children:e("newVersionAvailable")}),t.jsxs("p",{className:"text-xs leading-tight",children:[e("currentVersionLabel"),": v",We," Â·"," ",e("latestVersionLabel"),": v",Ee]})]}),t.jsx("a",{href:Ut,target:"_blank",rel:"noreferrer",className:"rounded-md bg-amber-100 px-3 py-1.5 text-xs font-semibold text-amber-900 transition-colors hover:bg-amber-200",children:e("updateNow")})]})}),!rt()&&t.jsx(no,{}),t.jsx(io,{}),t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("timelineOptions")}),t.jsxs(K,{className:"space-y-4 p-0",children:[t.jsxs("div",{children:[t.jsx(T,{className:"mb-2 block text-sm font-medium",children:e("scrollMode")}),t.jsxs("div",{className:"bg-secondary/50 relative grid grid-cols-2 gap-1 rounded-lg p-1",children:[t.jsx("div",{className:"bg-primary pointer-events-none absolute top-1 bottom-1 w-[calc(50%-6px)] rounded-md shadow-md transition-all duration-300 ease-out",style:{left:o==="flow"?"4px":"calc(50% + 2px)"}}),t.jsx("button",{className:`relative z-10 rounded-md px-3 py-2 text-sm font-semibold transition-all duration-200 ${o==="flow"?"text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{a("flow"),W({mode:"flow"})},children:e("flow")}),t.jsx("button",{className:`relative z-10 rounded-md px-3 py-2 text-sm font-semibold transition-all duration-200 ${o==="jump"?"text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{a("jump"),W({mode:"jump"})},children:e("jump")})]})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsx(T,{htmlFor:"hide-container",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("hideOuterContainer")}),t.jsx(B,{id:"hide-container",checked:l,onChange:s=>{i(s.target.checked),W({hideContainer:s.target.checked})}})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsx(T,{htmlFor:"draggable-timeline",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("draggableTimeline")}),t.jsx(B,{id:"draggable-timeline",checked:c,onChange:s=>{w(s.target.checked),W({draggableTimeline:s.target.checked})}})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs(T,{htmlFor:"marker-level-enabled",className:"group-hover:text-primary flex cursor-pointer items-center gap-1 text-sm font-medium transition-colors",children:[e("enableMarkerLevel"),t.jsx("span",{className:"material-symbols-outlined cursor-help text-[16px] leading-none opacity-50 transition-opacity hover:opacity-100",title:e("experimentalLabel"),style:{fontVariationSettings:"'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 20"},children:"experiment"})]}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("enableMarkerLevelHint")})]}),t.jsx(B,{id:"marker-level-enabled",checked:f,onChange:s=>{h(s.target.checked),W({markerLevelEnabled:s.target.checked})}})]}),t.jsx(re,{variant:"outline",size:"sm",className:"group hover:border-primary/50 mt-2 w-full",onClick:()=>{W({resetPosition:!0})},children:t.jsx("span",{className:"text-xs transition-transform group-hover:scale-105",children:e("resetTimelinePosition")})}),t.jsx(re,{variant:"outline",size:"sm",className:"group hover:border-primary/50 mt-2 w-full",onClick:()=>A(!0),children:t.jsxs("span",{className:"flex items-center gap-1.5 text-xs transition-transform group-hover:scale-105",children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:t.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"currentColor"})}),e("viewStarredHistory")]})})]})]}),t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("folderOptions")}),t.jsxs(K,{className:"space-y-4 p-0",children:[t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsx(T,{htmlFor:"folder-enabled",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("enableFolderFeature")}),t.jsx(B,{id:"folder-enabled",checked:b,onChange:s=>{y(s.target.checked),W({folderEnabled:s.target.checked})}})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsx(T,{htmlFor:"hide-archived",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("hideArchivedConversations")}),t.jsx(B,{id:"hide-archived",checked:C,onChange:s=>{P(s.target.checked),W({hideArchivedConversations:s.target.checked})}})]})]})]}),t.jsx(Ge,{label:e("folderSpacing"),value:Xe.width,min:ye.min,max:ye.max,step:1,narrowLabel:e("folderSpacingCompact"),wideLabel:e("folderSpacingSpacious"),valueFormatter:s=>`${s}px`,onChange:Xe.handleChange,onChangeComplete:Xe.handleChangeComplete}),t.jsx(Ge,{label:e("chatWidth"),value:Be.width,min:ee.min,max:ee.max,step:1,narrowLabel:e("chatWidthNarrow"),wideLabel:e("chatWidthWide"),onChange:Be.handleChange,onChangeComplete:Be.handleChangeComplete}),t.jsx(Ge,{label:e("editInputWidth"),value:qe.width,min:te.min,max:te.max,step:1,narrowLabel:e("editInputWidthNarrow"),wideLabel:e("editInputWidthWide"),onChange:qe.handleChange,onChangeComplete:qe.handleChangeComplete}),t.jsx(Ge,{label:xe?"AI Studio Sidebar":e("sidebarWidth"),value:Ke.width,min:de.min,max:de.max,step:8,narrowLabel:e("sidebarWidthNarrow"),wideLabel:e("sidebarWidthWide"),valueFormatter:s=>`${s}px`,onChange:Ke.handleChange,onChangeComplete:Ke.handleChangeComplete}),!xe&&t.jsx(_,{className:"p-4 transition-shadow hover:shadow-lg",children:t.jsx(K,{className:"p-0",children:t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"sidebar-auto-hide",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("sidebarAutoHide")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("sidebarAutoHideHint")})]}),t.jsx(B,{id:"sidebar-auto-hide",checked:Te,onChange:s=>{F(s.target.checked),W({sidebarAutoHideEnabled:s.target.checked})}})]})})}),t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("formulaCopyFormat")}),t.jsxs(K,{className:"space-y-3 p-0",children:[t.jsx("p",{className:"text-muted-foreground mb-3 text-xs",children:e("formulaCopyFormatHint")}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex cursor-pointer items-center space-x-3",children:[t.jsx("input",{type:"radio",name:"formulaCopyFormat",value:"latex",checked:N==="latex",onChange:ce,className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:e("formulaCopyFormatLatex")})]}),t.jsxs("label",{className:"flex cursor-pointer items-center space-x-3",children:[t.jsx("input",{type:"radio",name:"formulaCopyFormat",value:"unicodemath",checked:N==="unicodemath",onChange:ce,className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:e("formulaCopyFormatUnicodeMath")})]}),t.jsxs("label",{className:"flex cursor-pointer items-center space-x-3",children:[t.jsx("input",{type:"radio",name:"formulaCopyFormat",value:"no-dollar",checked:N==="no-dollar",onChange:ce,className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:e("formulaCopyFormatNoDollar")})]})]})]})]}),t.jsx(lo,{}),t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("inputCollapseOptions")}),t.jsxs(K,{className:"space-y-4 p-0",children:[t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"input-collapse-enabled",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("enableInputCollapse")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("enableInputCollapseHint")})]}),t.jsx(B,{id:"input-collapse-enabled",checked:Y,onChange:s=>{q(s.target.checked),W({inputCollapseEnabled:s.target.checked})}})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"ctrl-enter-send",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("ctrlEnterSend")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("ctrlEnterSendHint")})]}),t.jsx(B,{id:"ctrl-enter-send",checked:O,onChange:s=>{ge(s.target.checked),W({ctrlEnterSendEnabled:s.target.checked})}})]})]})]}),t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("promptManagerOptions")}),t.jsxs(K,{className:"space-y-3 p-0",children:[t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"hide-prompt-manager",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("hidePromptManager")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("hidePromptManagerHint")})]}),t.jsx(B,{id:"hide-prompt-manager",checked:he,onChange:s=>{X(s.target.checked),W({hidePromptManager:s.target.checked})}})]}),t.jsxs("div",{children:[t.jsx(T,{className:"mb-2 block text-sm font-medium",children:e("customWebsites")}),t.jsxs("div",{className:"bg-primary/10 border-primary/20 mb-2 flex items-center gap-2 rounded-md border p-2",children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary shrink-0",children:t.jsx("path",{d:"M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.13 7-7-3.13-7-7-7zm0 11c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm1-4H7V5h2v3z",fill:"currentColor"})}),t.jsx("p",{className:"text-primary text-xs font-medium",children:e("geminiOnlyNotice")})]}),t.jsx("div",{className:"mb-3 flex flex-wrap gap-1.5",children:[{domain:"chatgpt.com",label:"ChatGPT",Icon:mo},{domain:"claude.ai",label:"Claude",Icon:uo},{domain:"grok.com",label:"Grok",Icon:fo},{domain:"deepseek.com",label:"DeepSeek",Icon:ho},{domain:"qwen.ai",label:"Qwen",Icon:po},{domain:"kimi.com",label:"Kimi",Icon:go},{domain:"notebooklm.google.com",label:"NotebookLM",Icon:xo},{domain:"midjourney.com",label:"Midjourney",Icon:bo}].map(({domain:s,label:u,Icon:D})=>{const H=k.includes(s);return t.jsxs("button",{onClick:()=>{Ht(s,H)},className:`inline-flex min-w-[30%] flex-grow items-center justify-center gap-1 rounded-full px-2 py-1.5 text-[11px] font-medium transition-all ${H?"bg-primary text-primary-foreground shadow-sm":"bg-secondary/50 text-muted-foreground hover:bg-secondary hover:text-foreground"}`,title:u,children:[t.jsx("span",{className:"flex h-3.5 w-3.5 shrink-0 items-center justify-center",children:t.jsx(D,{})}),t.jsx("span",{className:"truncate",children:u}),t.jsx("span",{className:`w-2.5 shrink-0 text-center text-[10px] transition-opacity ${H?"opacity-100":"opacity-0"}`,children:"âœ“"})]},s)})}),k.length>0&&t.jsx("div",{className:"mb-3 space-y-2",children:k.map(s=>t.jsxs("div",{className:"bg-secondary/30 group hover:bg-secondary/50 flex items-center justify-between rounded-md px-3 py-2 transition-colors",children:[t.jsx("span",{className:"text-foreground/90 font-mono text-sm",children:s}),t.jsx("button",{onClick:()=>{Gt(s)},className:"text-destructive hover:text-destructive/80 text-xs font-medium opacity-70 transition-opacity group-hover:opacity-100",children:e("removeWebsite")})]},s))}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:s=>{E(s.target.value),p("")},onKeyDown:s=>{s.key==="Enter"&&mt()},placeholder:e("customWebsitesPlaceholder"),className:"bg-background border-border focus:ring-primary/50 min-w-0 flex-1 rounded-md border px-3 py-2 text-sm transition-all focus:ring-2 focus:outline-none"}),t.jsx(re,{onClick:()=>{mt()},size:"sm",className:"shrink-0 whitespace-nowrap",children:e("addWebsite")})]}),L&&t.jsx("p",{className:"text-destructive text-xs",children:L})]}),t.jsx("div",{className:"bg-primary/5 border-primary/20 mt-3 rounded-md border p-2",children:t.jsx("p",{className:"text-muted-foreground text-xs",children:e("customWebsitesNote")})})]})]})]}),t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("generalOptions")}),t.jsxs(K,{className:"space-y-4 p-0",children:[t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"tab-title-update",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("enableTabTitleUpdate")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("enableTabTitleUpdateHint")})]}),t.jsx(B,{id:"tab-title-update",checked:d,onChange:s=>{U(s.target.checked),W({tabTitleUpdateEnabled:s.target.checked})}})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"mermaid-enabled",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("enableMermaidRendering")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("enableMermaidRenderingHint")})]}),t.jsx(B,{id:"mermaid-enabled",checked:Se,onChange:s=>{pe(s.target.checked),W({mermaidEnabled:s.target.checked})}})]}),t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"quote-reply-enabled",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("enableQuoteReply")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("enableQuoteReplyHint")})]}),t.jsx(B,{id:"quote-reply-enabled",checked:Me,onChange:s=>{$(s.target.checked),W({quoteReplyEnabled:s.target.checked})}})]})]})]}),!rt()&&t.jsxs(_,{className:"p-4 transition-shadow hover:shadow-lg",children:[t.jsx(Q,{className:"mb-4 text-xs uppercase",children:e("nanobananaOptions")}),t.jsx(K,{className:"space-y-4 p-0",children:t.jsxs("div",{className:"group flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(T,{htmlFor:"watermark-remover",className:"group-hover:text-primary cursor-pointer text-sm font-medium transition-colors",children:e("enableNanobananaWatermarkRemover")}),t.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e("nanobananaWatermarkRemoverHint")})]}),t.jsx(B,{id:"watermark-remover",checked:ae,onChange:s=>{ne(s.target.checked),W({watermarkRemoverEnabled:s.target.checked})}})]})})]})]}),t.jsxs("div",{className:"from-secondary/30 via-accent/10 border-border/50 flex flex-col gap-3 border-t bg-linear-to-br to-transparent px-5 py-4 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex w-full items-center justify-between",children:[t.jsxs("div",{className:"text-muted-foreground flex items-center gap-2 text-xs",children:[t.jsx("span",{className:"text-foreground/80 font-semibold",children:e("extensionVersion")}),t.jsx("a",{href:Bt,target:"_blank",rel:"noreferrer",className:"text-primary hover:text-primary/80 font-semibold transition-colors",title:v||void 0,children:v??"..."})]}),t.jsxs("a",{href:qt,target:"_blank",rel:"noreferrer",className:"text-muted-foreground hover:text-primary flex items-center gap-1.5 text-xs font-semibold transition-colors",children:[t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),t.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),e("officialDocs")]})]}),t.jsxs("a",{href:"https://github.com/Nagi-ovo/gemini-voyager",target:"_blank",rel:"noreferrer",className:"bg-primary hover:bg-primary/90 text-primary-foreground inline-flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition-all hover:scale-[1.02] hover:shadow-lg active:scale-[0.98]",title:e("starProject"),children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8a8 8 0 005.47 7.59c.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8 8 0 0016 8c0-4.42-3.58-8-8-8z"})}),t.jsx("span",{children:e("starProject")})]})]})]})}function ko(){const e=document.querySelector("#__root");if(!e)throw new Error("Can't find Popup root element");Qt.createRoot(e).render(t.jsx(Xt,{children:t.jsx(wo,{})}))}ko();
